<app-titulo [titulo]="'Músicas'" [subtitulo]="'Cadastro da Música'"  [iconClass]="'bi bi-database-fill-add'" [button]="true" [path]="'/listar-musicas'"></app-titulo>

<div class="container-fluid rounded shadow-lg bg-dark cadastro-pedido" data-bs-theme="dark">
  <div class="container-fluid">

  <form [formGroup]="formMusica" (ngSubmit)="cadastrarMusica()">
    <fieldset>
      <legend>Cadastrar Música</legend>
      <div>
        <label for="nomeMusica" class="form-label mt-4">Música</label>
        <input
          type="text"
          class="form-control"
          id="nomeMusica"
          aria-describedby=""
          [ngClass]="{ 'is-valid': formMusica.get('nomeMusica')?.valid ,'is-invalid': formMusica.get('nomeMusica')?.errors && formMusica.get('nomeMusica')?.touched  }"
          formControlName="nomeMusica"
          placeholder="Obrigatório">
      </div>
      <div *ngIf="formMusica.get('nomeMusica')?.hasError('required') && formMusica.get('nomeMusica')?.touched" class="text-danger">
        Valor obrigatório
      </div>
      <div *ngIf="formMusica.get('nomeMusica')?.hasError('minlength')" class="text-danger">
        Mínimo 2 caracteres
      </div>
      <div *ngIf="formMusica.get('nomeMusica')?.hasError('maxlength')" class="text-danger">
        Máximo 50 caracteres
      </div>
      <div *ngIf="formMusica.get('nomeMusica')?.valid" class="text-success">
        OK
      </div>
      <div>
        <label for="cantor" class="form-label mt-4">Cantor</label>
        <input type="text"
         class="form-control"
         id="cantor"
         aria-describedby=""
         [ngClass]="{ 'is-valid': formMusica.get('cantor')?.valid ,'is-invalid': formMusica.get('cantor')?.errors && formMusica.get('cantor')?.touched  }"
         formControlName="cantor"
         placeholder="Obrigatório">
      </div>
      <div *ngIf="formMusica.get('cantor')?.hasError('required') && formMusica.get('cantor')?.touched" class="text-danger">
        Valor obrigatório
      </div>
      <div *ngIf="formMusica.get('cantor')?.hasError('minlength')" class="text-danger">
        Mínimo 2 caracteres
      </div>
      <div *ngIf="formMusica.get('cantor')?.hasError('maxlength')" class="text-danger">
        Máximo 50 caracteres
      </div>
      <div *ngIf="formMusica.get('cantor')?.valid" class="text-success">
        OK
      </div>
      <div>
        <label for="estilo" class="form-label mt-4">Estilo</label>
        <select
          class="form-select"
          id="estilo"
          [ngClass]="{ 'is-valid': formMusica.get('estilo')?.valid ,'is-invalid': formMusica.get('estilo')?.errors && formMusica.get('estilo')?.touched  }"
          formControlName="estilo">
          <option value="" disabled selected>Obrigatório</option>
          <option value="Introspectiva">Introspectiva</option>
          <option value="Animada">Animada</option>
        </select>
      </div>
      <div *ngIf="formMusica.get('estilo')?.hasError('required') && formMusica.get('estilo')?.touched" class="text-danger">
        Valor obrigatório
      </div>
      <div *ngIf="formMusica.get('estilo')?.valid" class="text-success">
        OK
      </div>
      <div>
        <label for="dataCadastro" class="form-label mt-4">Data Cadastro</label>
        <div class="inputs">
          <input type="text"
          class="form-control"
          value="{{ formMusica.value.dataCadastro | date:'dd/MM/yyyy' }}"
          style="width: 145px;"
          aria-describedby=""
          disabled
          [ngClass]="{ 'is-valid': formMusica.get('dataCadastro')?.valid ,'is-invalid': formMusica.get('dataCadastro')?.errors && formMusica.get('dataCadastro')?.touched  }"
          placeholder="Obrigatório"
          title="Clique no icone para escolher a data">
          <input
          type="date"
          class="form-control"
          style="background-color: gray; width: 45px;"
          id="dataCadastro"
          aria-describedby=""
          formControlName="dataCadastro">
        </div>
        <div *ngIf="formMusica.get('dataCadastro')?.hasError('required') && formMusica.get('dataCadastro')?.touched" class="text-danger">
          Valor obrigatório
        </div>
        <div *ngIf="formMusica.get('dataCadastro')?.valid" class="text-success">
          OK
        </div>
      </div>
      <div class="button-cadastrar-pedido">
        <button type="submit" [disabled]="!formMusica.valid" class="btn btn-primary">Cadastrar Musica</button>
      </div>

    </fieldset>
  </form>

</div>

